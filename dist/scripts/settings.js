(()=>{function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=globalThis,r={},o={},l=t.parcelRequire94c2;null==l&&((l=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var l={id:e,exports:{}};return r[e]=l,t.call(l.exports,l,l.exports),l.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire94c2=l),(0,l.register)("7gMWo",function(t,r){e(t.exports,"DEFAULT_FOCUS_TIME",()=>o),e(t.exports,"DEFAULT_REST_TIME",()=>l),e(t.exports,"DEFAULT_MAX_ROUNDS",()=>a),e(t.exports,"DEFAULT_BLUR",()=>c),e(t.exports,"DEFAULT_THEME",()=>n),e(t.exports,"DEFAULT_BACKGROUND",()=>s),e(t.exports,"setTheme",()=>i),e(t.exports,"setbackground",()=>g),e(t.exports,"setblur",()=>d);let o=3600,l=900,a=4,c=10,n="Lagoon",s="../../img/Default.jpg",i=function(e){let t=document.documentElement;t.style.setProperty("--color-primary",`var(--${e}-color-primary)`),t.style.setProperty("--color-primary-rgb",`var(--${e}-color-primary-rgb)`),t.style.setProperty("--color-primary-dark",`var(--${e}-color-primary-dark)`),t.style.setProperty("--color-primary-dark-rgb",`var(--${e}-color-primary-dark-rgb)`),t.style.setProperty("--color-primary-darker",`var(--${e}-color-primary-darker)`),t.style.setProperty("--color-primary-darker-rgb",`var(--${e}-color-primary-darker-rgb)`),t.style.setProperty("--color-primary-light",`var(--${e}-color-primary-light)`),t.style.setProperty("--color-primary-light-rgb",`var(--${e}-color-primary-light-rgb)`),t.style.setProperty("--color-secondary",`var(--${e}-color-secondary)`),t.style.setProperty("--color-secondary-rgb",`var(--${e}-color-secondary-rgb)`),t.style.setProperty("--color-secondary-light",`var(--${e}-color-secondary-light)`),t.style.setProperty("--color-secondary-light-rgb",`var(--${e}-color-secondary-light-rgb)`),t.style.setProperty("--color-secondary-lighter",`var(--${e}-color-secondary-lighter)`),t.style.setProperty("--color-secondary-lighter-rgb",`var(--${e}-color-secondary-lighter-rgb)`),t.style.setProperty("--color-tertiary-lighter",`var(--${e}-color-tertiary-lighter)`),t.style.setProperty("--color-tertiary-lighter-rgb",`var(--${e}-color-tertiary-lighter-rgb)`),t.style.setProperty("--color-rest",`var(--${e}-color-rest)`),t.style.setProperty("--color-rest-rgb",`var(--${e}-color-rest-rgb)`),t.style.setProperty("--color-focus",`var(--${e}-color-focus)`),t.style.setProperty("--color-focus-rgb",`var(--${e}-color-focus-rgb)`)};function g(e){document.body.style.backgroundImage=`linear-gradient(
        to top,
        rgba(var(--color-primary-rgb), 0.8),
        rgba(var(--color-secondary-rgb), 0.8)
    ), url(${e})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center"}function d(e){document.body.style.backdropFilter=`blur(${e}px)`}});var a=l("7gMWo");let c=document.getElementById("intervals"),n=document.getElementById("focus"),s=document.getElementById("rest"),i=document.getElementById("blur"),g=document.querySelectorAll('input[name="theme"]'),d=document.getElementById("error-message"),u=document.getElementById("apply"),y=document.getElementById("reset"),m=[n,s],p=document.getElementById("background"),E=localStorage.getItem("theme")||a.DEFAULT_THEME;function b(){let e=localStorage.getItem("backgroundImage")||a.DEFAULT_BACKGROUND,t=localStorage.getItem("focus")||a.DEFAULT_FOCUS_TIME,r=localStorage.getItem("rest")||a.DEFAULT_REST_TIME;c.value=localStorage.getItem("intervals")||a.DEFAULT_MAX_ROUNDS,i.value=localStorage.getItem("blur")||a.DEFAULT_BLUR,n.value=v(t),s.value=v(r),a.setbackground(e||a.DEFAULT_BACKGROUND),a.setblur(localStorage.getItem("blur")||a.DEFAULT_BLUR),"Lagoon"===E?g[0].checked=!0:"Owl"===E?g[1].checked=!0:"Monkai"===E&&(g[2].checked=!0)}function v(e){let t=Math.floor(e%60);if(e>3600){let r=Math.floor(e/3600),o=Math.floor(e/60-60*r);return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}}`}{let r=Math.floor(e/60);return`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}}function h(e){let t=n.value;try{f(t)}catch(t){e.preventDefault()}}function I(e){let t=this.value;try{f(t),this.setCustomValidity(""),d.style.display="none"}catch(e){this.setCustomValidity("Invalid time format"),d.style.display="inline"}}function f(e){if(void 0===e||!/^(\d+)(?::([0-5]?\d))?(?::([0-5]?\d))?$/.test(e))throw Error("Invalid time format");let t=0,r=0,o=0,l=e.split(":").map(Number);return 1===l.length?r=l[0]:2===l.length?[r,o]=l:3===l.length&&([t,r,o]=l),3600*t+60*r+o}document.documentElement,a.setTheme(localStorage.getItem("theme")||a.DEFAULT_THEME),m.forEach(e=>{e.addEventListener("submit",h),e.addEventListener("input",I)}),y.addEventListener("click",function(e){e.preventDefault(),localStorage.setItem("intervals",a.DEFAULT_MAX_ROUNDS),localStorage.setItem("focus",a.DEFAULT_FOCUS_TIME),localStorage.setItem("rest",a.DEFAULT_REST_TIME),localStorage.setItem("blur",a.DEFAULT_BLUR),localStorage.setItem("theme",a.DEFAULT_THEME),localStorage.setItem("backgroundImage",a.DEFAULT_BACKGROUND),a.setbackground(a.DEFAULT_BACKGROUND),b()}),u.addEventListener("click",function(e){let t=localStorage.getItem("backgroundImage")||a.DEFAULT_BACKGROUND;e.preventDefault(),"inline"!==d.style.display&&(c&&localStorage.setItem("intervals",c.value),n&&localStorage.setItem("focus",f(n.value)),s&&localStorage.setItem("rest",f(s.value)),i&&localStorage.setItem("blur",i.value),E=document.querySelector('input[name="theme"]:checked').value,localStorage.setItem("theme",E),localStorage.setItem("backgroundImage",t),a.setTheme(E),a.setblur(i.value))}),p.addEventListener("change",function(e){let t=e.target.files[0];if(t){let e=new FileReader;e.onload=function(e){let t=new Image;t.src=e.target.result,t.onload=function(){let e=document.createElement("canvas"),r=e.getContext("2d"),o=window.innerWidth,l=window.innerHeight,c=t.width,n=t.height;c>n?c>o&&(n*=o/c,c=o):n>l&&(c*=l/n,n=l),e.width=c,e.height=n,r.drawImage(t,0,0,c,n);let s=e.toDataURL("image/jpeg");a.setbackground(s),localStorage.setItem("backgroundImage",s)}},e.readAsDataURL(t)}}),b()})();
//# sourceMappingURL=settings.js.map
